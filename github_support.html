<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Github Support &mdash; cookietemple 1.4.0 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/custom_cookietemple.css" type="text/css" />
      <link rel="stylesheet" href="_static/dark_mode_css/general.css" type="text/css" />
      <link rel="stylesheet" href="_static/dark_mode_css/dark.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/dark_mode_js/default_dark.js"></script>
        <script src="_static/dark_mode_js/theme_switcher.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Contributing" href="contributing.html" />
    <link rel="prev" title="Available templates" href="available_templates/available_templates.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> cookietemple
          </a>
              <div class="version">
                1.4.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="readme.html">cookietemple overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="create.html">Create a project</a></li>
<li class="toctree-l1"><a class="reference internal" href="list_info.html">Getting information about available templates</a></li>
<li class="toctree-l1"><a class="reference internal" href="lint.html">Linting your project</a></li>
<li class="toctree-l1"><a class="reference internal" href="bump_version.html">Bumping the version of an existing project</a></li>
<li class="toctree-l1"><a class="reference internal" href="sync.html">Syncing your project</a></li>
<li class="toctree-l1"><a class="reference internal" href="warp.html">Packaging using warp</a></li>
<li class="toctree-l1"><a class="reference internal" href="config.html">Configure cookietemple</a></li>
<li class="toctree-l1"><a class="reference internal" href="upgrade.html">Upgrade cookietemple</a></li>
<li class="toctree-l1"><a class="reference internal" href="available_templates/available_templates.html">Available templates</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Github Support</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="#branches">Branches</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="#branch-protection-rules">Branch protection rules</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#github-actions">Github Actions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id3">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="#main-master-branch-protection-workflow">main_master_branch_protection workflow</a></li>
<li class="toctree-l3"><a class="reference internal" href="#release-drafter-workflow">release drafter workflow</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sync-project-yml">sync_project.yml</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#secrets">Secrets</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#error-handling-due-to-failed-github-repository-creation">Error Handling due to failed Github repository creation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#issue-labels">Issue labels</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="adding_new_templates.html">Adding new templates</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage.html">External Python based projects</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="community.html">Community</a></li>
<li class="toctree-l1"><a class="reference internal" href="code_of_conduct.html">Contributor Covenant Code of Conduct</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">cookietemple</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Github Support</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/github_support.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="github-support">
<span id="id1"></span><h1>Github Support<a class="headerlink" href="#github-support" title="Permalink to this headline"></a></h1>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline"></a></h2>
<p>cookietemple uses <a class="reference external" href="https://gitpython.readthedocs.io/en/stable/">GitPython</a> and <a class="reference external" href="https://pygithub.readthedocs.io/en/latest/introduction.html">PyGithub</a> to automatically create a repository, add, commit and push all files.
Moreover, issue labels, a development and a TEMPLATE branch are created. The TEMPLATE branch is required for <a class="reference internal" href="sync.html#sync"><span class="std std-ref">Syncing your project</span></a> to work and should not be touched manually.</p>
</section>
<section id="branches">
<h2>Branches<a class="headerlink" href="#branches" title="Permalink to this headline"></a></h2>
<section id="id2">
<h3>Overview<a class="headerlink" href="#id2" title="Permalink to this headline"></a></h3>
<p>git branches can be understood as diverging copies of the main line of development and facilitate parallel development.
To learn more about branches read <a class="reference external" href="https://git-scm.com/book/en/v2/Git-Branching-Branches-in-a-Nutshell">Branches in a Nutshell</a> of the <a class="reference external" href="https://git-scm.com/book">Pro Git Book</a>.
A simple best practice development workflow follows the pattern that the <code class="docutils literal notranslate"><span class="pre">master/main</span></code> branch always contains the latest released code.
It should only be touched for new releases. Code on the <code class="docutils literal notranslate"><span class="pre">master/main</span></code> branch must compile and be as bug free as possible.
Development takes place on the <code class="docutils literal notranslate"><span class="pre">development</span></code> branch. All in parallel developed features eventually make it into this branch.
The <code class="docutils literal notranslate"><span class="pre">development</span></code> branch should always compile, but it may contain incomplete features or known bugs.
cookietemple creates a <code class="docutils literal notranslate"><span class="pre">TEMPLATE</span></code> branch, which is required for <a class="reference internal" href="sync.html#sync"><span class="std std-ref">Syncing your project</span></a> to work and should not be touched manually.</p>
</section>
<section id="branch-protection-rules">
<h3>Branch protection rules<a class="headerlink" href="#branch-protection-rules" title="Permalink to this headline"></a></h3>
<p>cookietemple sets several branch protection rules, which enforce a minimum standard of best branch practices.
For more information please read <a class="reference external" href="https://help.github.com/en/github/administering-a-repository/about-protected-branches">about protected branches</a>.
The following branch protection rules only apply to the <code class="docutils literal notranslate"><span class="pre">master/main</span></code> branch:</p>
<ol class="arabic simple">
<li><p>Required review for pull requests: A pull request to <code class="docutils literal notranslate"><span class="pre">master/main</span></code> can only be merged if the code was at least reviewed by one person. If you are developing alone you can merge with your administrator powers.</p></li>
<li><p>Dismiss stale pull request approvals when new commits are pushed.</p></li>
</ol>
</section>
</section>
<section id="github-actions">
<h2>Github Actions<a class="headerlink" href="#github-actions" title="Permalink to this headline"></a></h2>
<section id="id3">
<h3>Overview<a class="headerlink" href="#id3" title="Permalink to this headline"></a></h3>
<p>Modern development tries to merge new features and bug fixes as soon as possible into the <code class="docutils literal notranslate"><span class="pre">development</span></code> branch, since big, diverging branches are more likely to lead to merge conflicts.
This practice is known as <a class="reference external" href="https://en.wikipedia.org/wiki/Continuous_integration">continuous integration</a> (CI).
Continuous integration is usually complemented with automated tests and continuous delivery (CD).
All of cookietemple’s templates feature <a class="reference external" href="https://github.com/features/actions">Github Actions</a> as main CI/CD service.
Please read the <a class="reference external" href="https://github.com/features/actions">Github Actions Overview</a> for more information.
On specific conditions (usually push events), the Github Actions workflows are triggered and executed.
The developers should ensure that all workflows always pass before merging, since they ensure that the package still builds and all tests are executed successfully.</p>
</section>
<section id="main-master-branch-protection-workflow">
<span id="pr-master-workflow-docs"></span><h3>main_master_branch_protection workflow<a class="headerlink" href="#main-master-branch-protection-workflow" title="Permalink to this headline"></a></h3>
<p>All templates feature <code class="docutils literal notranslate"><span class="pre">main_master_branch_protection</span></code> workflow.
This workflow runs everytime a PR to your projects master or main branch is created. It fails, if the PR to the <code class="docutils literal notranslate"><span class="pre">master/main</span></code> branch
origins from a branch that does not contain <code class="docutils literal notranslate"><span class="pre">patch</span></code> or <code class="docutils literal notranslate"><span class="pre">release</span></code> in its branch name.
If development code is written on a branch called <code class="docutils literal notranslate"><span class="pre">development``and</span> <span class="pre">a</span> <span class="pre">new</span> <span class="pre">release</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">project</span> <span class="pre">is</span> <span class="pre">to</span> <span class="pre">be</span> <span class="pre">made,</span>
<span class="pre">one</span> <span class="pre">should</span> <span class="pre">create</span> <span class="pre">a</span> <span class="pre">``release</span></code> branch only for this purpose and then merge it into <code class="docutils literal notranslate"><span class="pre">master/main</span></code> branch.
This ensures that new developments can already be merged into <code class="docutils literal notranslate"><span class="pre">development</span></code>, while the release is finally prepared.
The <code class="docutils literal notranslate"><span class="pre">patch</span></code> branch should be used for required <code class="docutils literal notranslate"><span class="pre">hotfixes</span></code> (checked out directly from <code class="docutils literal notranslate"><span class="pre">master/main</span></code> branch) because, in the meantime, there might
multiple developments going on at <code class="docutils literal notranslate"><span class="pre">development</span></code> branch and you dont want to interfere with them.
Pull requests against the master or main branch should not contain any <code class="docutils literal notranslate"><span class="pre">SNAPSHOT</span></code> versions, since they are only used for development versions.</p>
</section>
<section id="release-drafter-workflow">
<span id="id5"></span><h3>release drafter workflow<a class="headerlink" href="#release-drafter-workflow" title="Permalink to this headline"></a></h3>
<p>All templates feature <code class="docutils literal notranslate"><span class="pre">release-drafter</span></code> workflow.
This workflow consists of two parts: Everytime a new PR is made, the workflow runs and tries autolabeling the PR either as
<code class="docutils literal notranslate"><span class="pre">feature</span></code> or <code class="docutils literal notranslate"><span class="pre">bug</span></code>. Feature PRs introduce new features if the branch name contains “feature”. Bug PRs are PRs that either have a title containing
“fix” or the branch name contains “fix”.
This Action then drafts a new release grouped by the different PR categories and include references and titles to all PRs inclduded in the new release.
One can read more about this at <a class="reference external" href="https://github.com/release-drafter/release-drafter">the Release drafter GitHub repo</a>.</p>
</section>
<section id="sync-project-yml">
<h3>sync_project.yml<a class="headerlink" href="#sync-project-yml" title="Permalink to this headline"></a></h3>
<p>All templates also feature this workflow. This workflow is used for automatic syncing (if enabled) your project with the latest cookietemple template version.
The workflow is run every night, although this behavior can be customized if desired.
The workflow calls <code class="docutils literal notranslate"><span class="pre">cookietemple</span> <span class="pre">sync</span></code>, which first checks whether a new template version is available and if so it submits a pull request.
For more details please visit <a class="reference internal" href="sync.html#sync"><span class="std std-ref">Syncing your project</span></a>.</p>
</section>
</section>
<section id="secrets">
<h2>Secrets<a class="headerlink" href="#secrets" title="Permalink to this headline"></a></h2>
<p>Github secrets are what their name suggests: Encrypted secret values in a repository or an organisation; once they are set their value can be used for sensible data in
a project or an organisation but their raw value can never be seen again even by an administrator (but it can be updated).</p>
<p>Cookietemple uses a secret called <code class="code docutils literal notranslate"><span class="pre">CT_SYNC_TOKEN</span></code> for its syncing feature. This secret is automatically created during the repo creation process, if you choose to create a GitHub repo.
The secret contains your encrypted personal access token as its value. Note that this will have no effect on how to login or any other activity in your project.
If you remove the secret or change its value (even with another personal access token of you) the syncing feature will no longer work.
In case you are creating an organisation repository, the secret will also be stored as a repository secret, only usable for your specific project.</p>
<p>See section below in case your Github repo creation failed during the create process.</p>
<section id="error-handling-due-to-failed-github-repository-creation">
<h3>Error Handling due to failed Github repository creation<a class="headerlink" href="#error-handling-due-to-failed-github-repository-creation" title="Permalink to this headline"></a></h3>
<p>Errors during the create process due to a failed Github repo creation may occur due to a vast amount of reasons:
Some common error sources are:</p>
<ol class="arabic simple">
<li><p>You have no active internet connection or your firewall protects you against making calls to external APIs.</p></li>
</ol>
<p>2. The Github API service or Github itself is unreachable at the moment, which can happen from time to time. In doubt, make sure to check
<a class="reference external" href="https://www.githubstatus.com/">the Github status page</a>.</p>
<ol class="arabic simple" start="3">
<li><p>A repo with the same name already exists in your account/your organisation.</p></li>
<li><p>Your Github Token/Secret does not have all required permissions (all repository and workflow permissions).</p></li>
</ol>
<p>Creation fails, ok: But how can I then access the full features of cookietemple?
You can try to fix the issue (or wait some time on case, for example, when Github is down) and then process to create a Github repository manually.
After this, make sure to create a secret named <code class="docutils literal notranslate"><span class="pre">CT_SYNC_TOKEN</span></code> with the value of your PAT for your repository. See <a class="reference external" href="https://docs.github.com/en/actions/configuring-and-managing-workflows/creating-and-storing-encrypted-secrets">the Github docs</a>
for more information on how to create a secret.</p>
<p>We’re planning to provide a command like <code class="docutils literal notranslate"><span class="pre">cookietemple</span> <span class="pre">config</span> <span class="pre">fix-github</span></code> that tries to create a Github repo, set the secret and all other stuff that is going on during the Github repository creation in the create process in a later version.</p>
</section>
</section>
<section id="issue-labels">
<h2>Issue labels<a class="headerlink" href="#issue-labels" title="Permalink to this headline"></a></h2>
<p>cookietemple’s Github support automatically creates <a class="reference external" href="https://help.github.com/en/github/managing-your-work-on-github/labeling-issues-and-pull-requests">issue labels</a>.
Currently the following labels are automatically created:
1. dependabot: All templates, which include <a class="reference external" href="https://dependabot.com/">Dependabot</a> support label all Dependabot pull requests with this label.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="available_templates/available_templates.html" class="btn btn-neutral float-left" title="Available templates" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="contributing.html" class="btn btn-neutral float-right" title="Contributing" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020, Lukas Heumos, Philipp Ehmele, the cookiejar organization.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>